<div class="shared-expenses-stats-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-overlay">
    <mat-spinner diameter="50"></mat-spinner>
  </div>

  <!-- Main Content -->
  <div *ngIf="stats && !isLoading" class="stats-content">
    <div class="charts-section">

    </div>

    <!-- Recent Expenses -->
    <mat-card class="recent-expenses-card">
      <mat-card-header>
        <mat-card-title>Dépenses récentes</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <apx-chart
            [series]="recentExpensesChartOptions.series"
            [chart]="recentExpensesChartOptions.chart"
            [xaxis]="recentExpensesChartOptions.xaxis"
            [stroke]="recentExpensesChartOptions.stroke"
            [markers]="recentExpensesChartOptions.markers"
            [dataLabels]="recentExpensesChartOptions.dataLabels"
            [colors]="recentExpensesChartOptions.colors">
          </apx-chart>
        </div>
        <div class="recent-expenses-list">
          <div *ngFor="let expense of stats.recentSharedExpenses" class="expense-item">
            <div class="expense-info">
              <span class="expense-amount">{{ expense.totalAmount | currency:'XAF':'symbol':'1.0-0' }}</span>
              <span class="expense-description">{{ expense.description }}</span>
            </div>
            <div class="expense-meta">
              <span class="expense-initiator">{{ expense.initiator }}</span>
              <span class="expense-date">{{ expense.createdAt | date:'shortDate' }}</span>
              <span class="expense-status" [ngClass]="'status-' + expense.status.toLowerCase()">
                {{ expense.status | titlecase }}
              </span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
